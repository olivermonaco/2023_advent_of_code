????? 1,1,1

? ? ? 1,1,1

= 1

--
?????? 1,1,1

? ? ?? 1,1,1
? ?? ?? 1,1,1
?? ? ?? 1,1,1

= 4

--
??????? 1,1,1

? ? ??? 1,1,1
? ?? ?? 1,1,1
? ??? ? 1,1,1
?? ?? ? 1,1,1
??? ? ? 1,1,1

= 10

--
???????? 1,1,1

? ? ???? 1,1,1
? ?? ??? 1,1,1
? ??? ?? 1,1,1
? ???? ? 1,1,1
?? ??? ? 1,1,1
??? ?? ? 1,1,1
???? ? ? 1,1,1

= 20

--
????????? 1,1,1

? ? ????? 1,1,1
? ?? ???? 1,1,1
? ??? ??? 1,1,1
? ???? ?? 1,1,1
? ????? ? 1,1,1
?? ???? ? 1,1,1
??? ??? ? 1,1,1
???? ?? ? 1,1,1
????? ? ? 1,1,1

= 35

--
?????????? 1,1,1

? ? ?????? 1,1,1
? ?? ????? 1,1,1
? ??? ???? 1,1,1
? ???? ??? 1,1,1
? ????? ?? 1,1,1
? ?????? ? 1,1,1
?? ????? ? 1,1,1
??? ???? ? 1,1,1
???? ??? ? 1,1,1
????? ?? ? 1,1,1
?????? ? ? 1,1,1

= 56

--
???????? 1,2,1

? ?? ??? = 1,1,3
? ??? ?? = 1,2,2
? ???? ? = 1,3,1
?? ??? ? = 2,2,1
??? ?? ? = 3,1,1

= 10

--

?????????? 3,2,1

??? ?? ??? 1,1,3
??? ??? ?? 1,2,2
??? ???? ? 1,3,1
???? ??? ? 2,2,1
????? ?? ? 3,1,1

= 10

--

???????????? 4,1,2

???? ? ????? 1,1,4
???? ?? ???? 1,2,3
???? ??? ??? 1,3,2
???? ???? ?? 1,4,1 = 3
????? ??? ?? 2,3,1
?????? ?? ?? 3,2,1
??????? ? ?? 4,1,1

= 20

10+6+4

--

???????????????????? 3,2,3

??? ?? ????????????? 3,2,3 = 11
??? ??? ???????????? 3,2,3
??? ???? ??????????? 3,2,3
??? ????? ?????????? 3,2,3
??? ?????? ????????? 3,2,3
??? ??????? ???????? 3,2,3
??? ????????? ?????? 3,2,3
??? ?????????? ????? 3,2,3
??? ??????????? ???? 3,2,3
??? ???????????? ??? 3,2,3

??? ???????????? ??? 3,2,3
???? ??????????? ??? 3,2,3
????? ?????????? ??? 3,2,3
?????? ????????? ??? 3,2,3
??????? ???????? ??? 3,2,3
???????? ??????? ??? 3,2,3
????????? ?????? ??? 3,2,3
?????????? ????? ??? 3,2,3
??????????? ???? ??? 3,2,3
???????????? ??? ??? 3,2,3
????????????? ?? ??? 3,2,3

= 

--

????????????? 4,1,2,1

???? ? ? ? ?? ? ??? 4,1,2,1

???? ? ?? ??? [1,1,1,3] = 3
???? ? ??? ?? [1,1,2,2] = 2
???? ? ???? ? [1,1,3,1] = 1

???? ?? ??? ? [1,1,2,1] = 2
???? ??? ?? ? [1,1,1,1] = 1

????? ?? ?? ? [2,2,1,1] = 2
?????? ? ?? ? [3,1,1,1] = 1

= 15

6+5+3+1 ? maybe?

--

?????????? 2,1,2

?? ? ????? 2,1,2 = 4
?? X? ???? 2,1,2
?? XX? ??? 2,1,2
?? XXX? ?? 2,1,2
?? ???? ?? 2,1,2
X?? ??? ?? 2,1,2
XX?? ?? ?? 2,1,2
XXX?? ? ?? 2,1,2
????? ? ?? 2,1,2

= 20

--

????????????? 4,1,2

???? ? ?????? 4,1,2

???? ? ?????? [1,1,5] = 5
???? ?? ????? [1,2,4] = 4
???? ??? ???? [1,3,3] = 3
???? ???? ??? [1,4,2] = 2
???? ????? ?? [1,5,1] = 5

???? ????? ?? [2,5,1] = 4
????? ???? ?? [3,5,1] = 3
?????? ??? ?? [4,5,1] = 2
??????? ?? ?? [5,5,1] = 1
???????? ? ?? [5,5,1] = 1

= 35

15+10
--
Broken Span Examples below
--

.#.????????##?????? 1,1,1,4,1,1	81

????????##?????? 1,1,4,1,1

// cascading group 1 * group 2
// so 3*3+3*2+3*1

? ??? ??## ? ??? 1,3 - 1 - 1,3 = 6*6 = 36

? ???? ?##? ?? ? 1,4 - 1 - 2,1 = 10*3 = 30

? ????? ##?? ? ? 1,5 - 1 - 1,1 = 15*1 = 15

actual = 81 (36+30+15)

--

?###???????? 3,2,1

?### ?? ???? 1,1,4 = 4
?### ??? ??? 1,2,3 = 3
?### ???? ?? 1,3,2 = 2
?### ????? ? 1,4,1 = 1
= 10

--

TODO: check the below out, and conceptualize
analysis https://docs.google.com/spreadsheets/d/1rkLyvX5Rby2xF4lf_LVSjqIwd-hGSUyDg_G4YXGsemk/edit#gid=0


4,1,2,1
???? ? ?? ??? [1,1,1,3] = 3
???? ? X?? ?? [1,1,2,2] = 2
???? ? XX?? ? [1,1,3,1] = 1

???? X? ?? ?? [1,1,1,2] = 2
???? X? X?? ? [1,1,1,1] = 1
???? XX? ?? ? [1,1,1,1] = 1

X???? ? ?? ?? [1,1,1,1] = 2
X???? ? X?? ? [1,1,1,1] = 1
X???? X? ?? ? [1,1,1,1] = 1
XX???? ? ?? ? [1,1,1,1] = 1


???##???##????##??? 1,3,2,3,1

? ?## ?## ???## ?? = [1,1,1,1,2] = 2

?? ##? ##? ??##? ? = [2,1,1,1,1] = 2

--

???##????##??? 1,3,3,1

? ?## XX?## ?? [1,1,1,2] = 2
? ?## XXX##? ? [2,1,1,1] = 1
?? ##? XX##? ? [2,1,1,1] = 2
?? ##? X?## ?? [2,1,1,2] = 4

= 9

--

???##????##??? 1,2,3,1

?? ## XX?## ?? [2,1,1,2] = 4
?? ## XX?##? ? [2,1,1,1] = 2


= 6

--

????##???????##????? 1,4,5,1

? ??## ??????## ???? 1,4,5,1

? ??## XXX???## ???? = [1,1,1,4] = 4
?? ?##? XX???## ???? = [2,1,1,4] = 8
??? ##?? X???## ???? = [3,1,1,4] = 12

? ??## XXXX??##? ??? = [1,1,1,3] = 3
?? ?##? XXX??##? ??? = [1,1,1,3] = 6
??? ##?? XX??##? ??? = [1,1,1,3] = 9

? ??## XXXXX?##?? ?? = [1,1,1,2] = 2
?? ?##? XXXX?##?? ?? = [2,1,1,2] = 4
??? ##?? XXX?##?? ?? = [3,1,1,2] = 6

? ??## XXXXXX##??? ? = [1,1,1,1] = 1
?? ?##? XXXXX##??? ? = [2,1,1,1] = 2
??? ##?? XXXX##??? ? = [3,1,1,1] = 3 

actual = 60


first, initRefs
check if remainingBrokenSpans
- if there are, for each (starting with highest brokenSpan), 
    - catch closest lowest up with it (pushing along those above it)
    - new struct wrapping sepStrRef, with left / right available for it
    - each grouping of this new type between broken spans is a group
    - calculate total for group given pass back (should be symmetrical to the num groups)
    - multiply this by each non broken group, but no passbacks for the other group(s) 
        - if everything's left aligned, there should be 1 group that has all the spare possible springs
    - pass back one, and pass it through the broken span if possible
    - do the same steps above for the next group, and for the previous group, include any pass backs if possible
- try to advance the sepStrRefs to the next broken span and do it all again

--